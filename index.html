<!-- <!DOCTYPE html>
<html>
<head>
    <title>Авторизация ВКонтакте</title>
    <script src="https://vk.com/js/api/openapi.js"></script>
    <script src="VKinit.js"></script>
</head>
<body>
    <h1>Авторизуйтесь через ВК</h1>
    <button class="btn" onclick="authVK()">Войти через ВК</button>
    <a id="authLink" href="#">Авторизоваться через ВК</a>
    <div id="user_info"></div>
    <script src="App.js"></script>
    <script src="genereyt.js"></script>
</body>
</html>
</body>
</html> -->

<html>

<head>
    <script src="//vk.com/js/api/openapi.js" type="text/javascript"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
    <script>
        window.onload = (function () {
            const appId = 51756977;
            let user = "";
            console.log(user);

            VK.init({
                apiId: appId
            });
            console.log(response,"1");
            console.log(response.session,"1");
            function authInfo(response) {
                console.log(response,"2");
                console.log(response.session,"2");

                if (response.session) {
                    var vkId = response.session.mid;
                    console.log(response,"3");
                    console.log(response.session,"3");
                    console.log(vkId);
                    return response;
                    VK.api("users.get", { uids: vkId, fields: "contacts" }, function (data) {
                        console.log(data.error.request_params[2].value);
                        user = data.error.request_params[2].value;
                        console.log(user, "1");
                        // return user, vkId;
                    });
                } else {
                    console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
                }
            }
            VK.Auth.getLoginStatus(authInfo);
        });
        console.log(authInfo());
    </script>
    <divi d="p">

        </div>
</body>

</html>